<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shelf and Beyond</title>
    <link rel="stylesheet" type="text/css" href="{% static 'styles.css' %}">
    <style>
        /* ‚úÖ Add these to styles.css if you prefer */
        .navbar {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            gap: 10px;
        }

        .nav-links {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            padding: 10px 30px;
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
        }

        .search-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-left: auto;
        }

        .logo {
            font-weight: bold;
            font-size: 1.5em;
        }
    </style>
</head>
<body>
    <header>
        <div class="navbar">
            <!-- ‚úÖ Left: Logo -->
            <div class="logo">Shelf and Beyond</div>

            <!-- ‚úÖ Center: Search bar -->
            <div class="search-container">
                <form action="{% url 'search_results' %}" method="GET">
                    <input type="text" name="q" placeholder="Search by book name or author name" value="{{ query|default_if_none:'' }}">
                    <button type="submit" class="search-btn">üîç</button>
                </form>
                <a href="{% url 'view_cart' %}">
                    <button type="button" class="cart-btn">üõí</button>
                </a>
            </div>

            <!-- ‚úÖ Right: Auth Buttons -->
            <div class="auth-buttons">
                {% if request.session.user_id or request.user.is_superuser  %}
                    <a href="{% url 'notifications' %}" title="Notifications">üîî</a>
                    <a href="{% url 'view_profile' %}" title="View Profile">üë§</a>
                    <a href="{% url 'create_listing' %}"><button class="btn primary">CREATE LISTING</button></a>
                    <a href="{% url 'logout' %}"><button class="btn danger">LOG OUT</button></a>
                {% elif request.user.is_superuser %}
                    <a href="{% url 'logout' %}"><button class="btn danger">LOG OUT</button></a>
                {% else %}
                    <a href="{% url 'login_step' %}"><button class="btn">LOG IN</button></a>
                    <a href="{% url 'signup_step1' %}"><button class="btn">SIGN UP</button></a>
                {% endif %}
            </div>
        </div>

        <!-- ‚úÖ Flexible Nav Links -->
        <nav class="nav-links">
            <a href="{% if request.session.user_id %}{% url 'welcome_page' %}{% elif request.user.is_superuser %}{% url 'admin_dashboard' %}{% else %}{% url 'home_page' %}{% endif %}">Home</a>
            <a href="{% url 'show_message' %}">Inbox</a>
            <a href="{% url 'manage_listings' %}">My Listings</a>
            <a href="{% url 'show_listings' %}">All Listings</a>
            <a href="{% url 'pet_adoption' %}">Pet Adoption</a>
            <a href="{% url 'show_adoption_listings' %}">Pet Adoption Listings</a>
            <a href="{% url 'manage_adoption_listings' %}">Manage Adoption Listings</a>
            <div class="dropdown">
                <a href="#" class="category-link">Category ‚ñæ</a>
            </div>
            <a href="#">Genre</a>
            <a href="#">Authors</a>
            <a href="#">Bestsellers</a>


        </nav>
    </header>

    <main>
        <div class="book-background">
            <div class="overlay"></div>
            <div class="content-container">
                {% block content %}{% endblock %}
            </div>
        </div>
    </main>
</body>
</html>
